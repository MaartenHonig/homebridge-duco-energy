{
  "pluginAlias": "DucoEnergy",
  "pluginType": "platform",
  "singular": true,
  "headerDisplay": "Control your Duco Energy ventilation system via the Connectivity Board 2.0 local API.",
  "footerDisplay": "For help, see the [README](https://github.com/your-username/homebridge-duco-energy).",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Platform Name",
        "type": "string",
        "default": "Duco Energy",
        "required": true
      },
      "host": {
        "title": "Duco Connectivity Board IP Address",
        "type": "string",
        "placeholder": "192.168.1.100",
        "required": true,
        "description": "The local IP address of your Duco Connectivity Board."
      },
      "pollingInterval": {
        "title": "Polling Interval (seconds)",
        "type": "integer",
        "default": 30,
        "minimum": 10,
        "maximum": 300,
        "description": "How often to poll the Duco API for sensor data updates."
      },
      "overrideDurationMinutes": {
        "title": "Manual Override Duration (minutes)",
        "type": "integer",
        "default": 15,
        "minimum": 5,
        "maximum": 120,
        "description": "Duration of each manual speed override in minutes. Like pressing the button once on the physical controller."
      },
      "dashboardPort": {
        "title": "Dashboard Web Port",
        "type": "integer",
        "default": 9100,
        "minimum": 1024,
        "maximum": 65535,
        "description": "Port for the sensor data dashboard. Access at http://<homebridge-ip>:<port>"
      },
      "enableDashboard": {
        "title": "Enable Dashboard",
        "type": "boolean",
        "default": true,
        "description": "Enable the built-in web dashboard with sensor graphs."
      },
      "dataRetentionDays": {
        "title": "Data Retention (days)",
        "type": "integer",
        "default": 30,
        "minimum": 1,
        "maximum": 365,
        "description": "How many days of sensor data to keep for the dashboard."
      },
      "scheduledOverride": {
        "title": "Scheduled Override",
        "type": "object",
        "description": "Force a specific ventilation mode during a time window (e.g. night mode).",
        "properties": {
          "enabled": {
            "title": "Enable Scheduled Override",
            "type": "boolean",
            "default": false
          },
          "startTime": {
            "title": "Start Time (HH:MM)",
            "type": "string",
            "default": "00:00",
            "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$",
            "description": "Start time in 24h format."
          },
          "endTime": {
            "title": "End Time (HH:MM)",
            "type": "string",
            "default": "07:00",
            "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$",
            "description": "End time in 24h format."
          },
          "mode": {
            "title": "Ventilation Mode",
            "type": "string",
            "default": "MAN1",
            "oneOf": [
              { "title": "Speed 1 (Low)", "enum": ["MAN1"] },
              { "title": "Speed 2 (Medium)", "enum": ["MAN2"] },
              { "title": "Speed 3 (High)", "enum": ["MAN3"] }
            ],
            "description": "The ventilation mode to force during the scheduled window."
          }
        }
      }
    }
  }
}
